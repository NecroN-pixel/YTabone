<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Necron Analytics | v1.0.0 Global</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;500;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root {
            --accent: #ff0033;
            --bg: #030303;
            --glass: rgba(10, 10, 10, 0.75);
            --card-w: 550px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg);
            color: #fff;
            font-family: 'Plus Jakarta Sans', sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        /* --- Global Arka Plan: Nebula Efekti --- */
        .nebula {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, rgba(255, 0, 51, 0.05) 0%, transparent 40%),
                        radial-gradient(circle at 80% 70%, rgba(0, 123, 255, 0.05) 0%, transparent 40%);
            z-index: -1;
        }

        .floating-geometry {
            position: absolute;
            border: 1px solid rgba(255,255,255,0.05);
            background: rgba(255,255,255,0.01);
            animation: rotateFloat 30s infinite linear;
            z-index: -1;
            border-radius: 24% 76% 35% 65% / 49% 45% 55% 51%;
        }

        @keyframes rotateFloat {
            from { transform: translate(-10vw, -10vh) rotate(0deg); }
            to { transform: translate(110vw, 110vh) rotate(360deg); }
        }

        /* --- Master Panel --- */
        .panel {
            background: var(--glass);
            backdrop-filter: blur(50px) saturate(200%);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 40px;
            padding: 50px;
            width: var(--card-w);
            text-align: center;
            box-shadow: 0 100px 200px rgba(0,0,0,0.9);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
        }

        /* --- MOD: FSABONE (Yayıncı Modu) --- */
        body.fsabone .panel {
            width: 100vw; height: 100vh;
            background: transparent; border: none; box-shadow: none;
            display: flex; align-items: center; justify-content: flex-start;
            text-align: left; padding-left: 8%;
        }

        body.fsabone .fsabone-layout { display: flex; align-items: center; gap: 40px; }
        body.fsabone .hide-fs { display: none !important; }
        body.fsabone #avatar { width: 220px; height: 220px; margin: 0; box-shadow: 0 0 80px rgba(255,0,51,0.4); }
        body.fsabone .count-text { font-size: 8rem !important; margin: 0; }
        body.fsabone #cName { font-size: 3rem; font-weight: 800; opacity: 0.9; }

        /* --- Arama & Liste --- */
        .search-wrapper { position: relative; margin-bottom: 40px; }
        .input-global {
            width: 100%; background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            padding: 18px 25px; border-radius: 20px; color: #fff;
            font-size: 1.1rem; transition: 0.4s;
        }
        .input-global:focus { border-color: var(--accent); background: rgba(255,0,51,0.05); }

        .results-tray {
            position: absolute; top: 110%; width: 100%; background: #0a0a0a;
            border-radius: 20px; border: 1px solid #222; max-height: 0;
            overflow: hidden; transition: 0.4s; z-index: 1000;
        }
        .results-tray.open { max-height: 350px; }
        .res-card {
            display: flex; align-items: center; padding: 12px; cursor: pointer;
            transition: 0.3s; border-bottom: 1px solid #111;
        }
        .res-card:hover { background: #1a1a1a; padding-left: 20px; }
        .res-card img { width: 45px; height: 45px; border-radius: 50%; margin-right: 15px; }

        /* --- Profil & Sayaç --- */
        #avatar {
            width: 140px; height: 140px; border-radius: 50%;
            border: 5px solid var(--accent); margin-bottom: 20px;
            object-fit: cover; transition: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .count-text {
            font-size: 5.5rem; font-weight: 800; letter-spacing: -3px;
            background: linear-gradient(to bottom, #fff, #888);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        /* --- Grid Verileri --- */
        .grid-data { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
        .data-pill { background: rgba(255,255,255,0.02); padding: 20px; border-radius: 25px; border: 1px solid rgba(255,255,255,0.03); }
        .data-val { font-size: 1.4rem; font-weight: 700; display: block; }
        .data-lab { font-size: 0.7rem; color: #666; letter-spacing: 2px; margin-top: 5px; }

        /* --- Alt Araçlar --- */
        .footer-nav { margin-top: 40px; display: flex; justify-content: center; gap: 20px; }
        .action-btn {
            background: #111; border: 1px solid #222; color: #fff;
            padding: 12px 20px; border-radius: 15px; cursor: pointer; transition: 0.3s;
        }
        .action-btn:hover { background: var(--accent); border-color: var(--accent); transform: scale(1.05); }

        .version-badge {
            position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.05);
            padding: 5px 12px; border-radius: 10px; font-size: 0.6rem; color: #444; letter-spacing: 1px;
        }

    </style>
</head>
<body>

    <div class="nebula"></div>
    <div id="geo-layer"></div>

    <div class="panel">
        <div class="version-badge hide-fs">v1.0.0 GLOBAL</div>

        <div class="search-wrapper hide-fs">
            <input type="text" id="globalSearch" class="input-global" placeholder="Kanal adını girin ve Enter'a basın..." onkeyup="if(event.key==='Enter') search()">
            <div id="tray" class="results-tray"></div>
        </div>

        <div class="fsabone-layout">
            <img id="avatar" src="https://via.placeholder.com/150/000?text=NC" alt="Necron">
            <div class="main-info">
                <h2 id="cName">Sistemi Başlat</h2>
                <div class="count-text" id="mainCount">0</div>
                <div class="data-lab" id="statusLabel">CANLI ABONE VERİSİ</div>
            </div>
        </div>

        <div class="grid-data hide-fs">
            <div class="data-pill">
                <span class="data-val" id="vCount">0</span>
                <span class="data-lab">GÖRÜNTÜLENME</span>
            </div>
            <div class="data-pill">
                <span class="data-val" id="vidCount">0</span>
                <span class="data-lab">VİDEO</span>
            </div>
        </div>

        <div class="footer-nav hide-fs">
            <button class="action-btn" onclick="switchMode('fsabone')"><i class="fas fa-desktop"></i> Yayıncı Modu</button>
            <button class="action-btn" onclick="copySession()"><i class="fas fa-link"></i> Linki Paylaş</button>
        </div>
    </div>

    <script>
        const API_KEY = 'AIzaSyArrl6SPjBroMSzpKEsWCrLHzm3PgI1mhw';
        let tracker;

        window.onload = () => {
            const u = new URLSearchParams(window.location.search);
            if(u.get('mode') === 'fsabone') document.body.classList.add('fsabone');
            if(u.get('id')) init(u.get('id'));
            buildGeo();
        };

        async function search() {
            const q = document.getElementById('globalSearch').value;
            const r = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&type=channel&q=${encodeURIComponent(q)}&maxResults=5&key=${API_KEY}`);
            const d = await r.json();
            const t = document.getElementById('tray');
            t.innerHTML = '';
            t.classList.add('open');
            d.items.forEach(i => {
                const c = document.createElement('div');
                c.className = 'res-card';
                c.innerHTML = `<img src="${i.snippet.thumbnails.default.url}"><span>${i.snippet.title}</span>`;
                c.onclick = () => init(i.id.channelId);
                t.appendChild(c);
            });
        }

        async function init(id) {
            document.getElementById('tray').classList.remove('open');
            const url = new URL(window.location);
            url.searchParams.set('id', id);
            window.history.pushState({}, '', url);

            const r = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics,snippet&id=${id}&key=${API_KEY}`);
            const data = await r.json();
            if(data.items[0]) {
                const c = data.items[0];
                document.getElementById('cName').innerText = c.snippet.title;
                document.getElementById('avatar').src = c.snippet.thumbnails.medium.url;
                
                // Sayı Formatlama
                document.getElementById('mainCount').innerText = Number(c.statistics.subscriberCount).toLocaleString('tr-TR');
                document.getElementById('vCount').innerText = Number(c.statistics.viewCount).toLocaleString('tr-TR');
                document.getElementById('vidCount').innerText = Number(c.statistics.videoCount).toLocaleString('tr-TR');
                
                if(tracker) clearInterval(tracker);
                tracker = setInterval(() => init(id), 20000);
            }
        }

        function switchMode(m) {
            const u = new URL(window.location);
            u.searchParams.set('mode', m);
            window.location.href = u.href;
        }

        function copySession() {
            navigator.clipboard.writeText(window.location.href);
            alert("v1.0.0 Global Link Kopyalandı!");
        }

        function buildGeo() {
            const l = document.getElementById('geo-layer');
            for(let i=0; i<10; i++) {
                const s = document.createElement('div');
                s.className = 'floating-geometry';
                s.style.width = Math.random()*200+50+'px';
                s.style.height = s.style.width;
                s.style.left = Math.random()*100+'vw';
                s.style.top = Math.random()*100+'vh';
                s.style.animationDuration = Math.random()*20+20+'s';
                l.appendChild(s);
            }
        }
    </script>
</body>
</html>
